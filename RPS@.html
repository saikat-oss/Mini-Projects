<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors - 2 Player</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #242424;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
        }

        .game-container {
            background: #00ff9d38;
            padding: 30px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 16px #00000033;
            border: 1px solid #00ff9d;
            box-shadow: 0 0 30px #00ff9d;
            text-align: center;
            min-width: 400px;
        }

        h1 {
            color: #e6e6e6;
            margin-bottom: 80px;
        }

        .score-board {
            font-size: 1.2rem;
            margin-bottom: 40px;
            color: #e6e6e6;
            display: flex;
            justify-content: space-around;
            align-items: center;
        }

        .score-board p {
            margin: 0;
        }

        .player-label {
            font-weight: normal;
            margin: 0 5px;
        }

        .reset-container {
            margin-top: 10px;
            margin-bottom: 10px;
            text-align: center;
        }

        #reset-button {
            background-color: #00ff9d8a;
            border: 1px solid #00ff9d;
            color: #fff;
            padding: 8px 16px;
            font-size: 0.9em;
            border-radius: 5px;
            transition: background-color 0.3s ease;
        }

        #reset-button:hover {
            background-color: #00ff9d;
            box-shadow: 0 0 20px #00ff9d;
        }

        .instructions {
            margin-bottom: 25px;
            background-color: #00000086;
            padding: 15px;
            border-radius: 8px;
        }

        .instructions p {
            margin: 7px 0;
            color: #e6e6e6;
        }

        .results {
            margin-top: 30px;
            font-size: 1.1em;
            color: #e6e6e6;
        }

        #status-text {
            font-style: italic;
            color: #e6e6e6;
            min-height: 1.2em;
        }

        #result-text {
            font-weight: bold;
            min-height: 1.5em;
            margin-top: 10px;
        }

        #choices-display {
            min-height: 1.2em;
            color: #e6e6e6;
            font-size: 0.95em;
            margin-top: 5px;
        }


        .win {
            color: #25fff4;
            text-shadow: 0 0 10px #25fff4;
            font-size: 28px;
        }

        .lose {
            color: #25fff4;
            text-shadow: 0 0 10px #25fff4;
            font-size: 28px;
        }

        .tie {
            color: orange;
            font-size: 28px;
        }


        #start-screen input {
            font-size: 1em;
            padding: 15px;
            margin: 5px 0;
            width: 80%;
            background-color: #3a3a3a;
            color: white;
            border-radius: 10px;
            border: 1px solid #25fff4;
            transition-property: all;
            transition-duration: 0.3s;
        }

        #start-screen input:focus {
            box-shadow: 0 0 20px #25fff4;
            outline: none;
        }

        #start-screen input::-webkit-input-placeholder {
            color: #25fff4b7;
        }

        #start-screen button {
            background-color: #25fff4;
            border: none;
            color: #fff;
            padding: 8px 16px;
            margin-top: 10px;
            font-size: 1em;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        #start-screen button:hover {
            background-color: #558adf;
        }
    </style>
</head>

<body>
    <div id="start-screen" class="game-container">
        <h1>Enter Player Names</h1>
        <input type="text" id="player1-input" placeholder="Player 1 Name" />
        <br>
        <input type="text" id="player2-input" placeholder="Player 2 Name" />
        <br>
        <button id="start-button">Start Game</button>
    </div>

    <div id="game-screen" class="game-container" style="display: none;">
        <h1>Rock, Paper, Scissors</h1>

        <div class="score-board">
            <p>
                <span id="player1-label" class="player-label"
                    style="font-weight: bold; font-size: 30px; color: #25fff4;"></span>
                <span id="player1-score" style="font-size: 40px; font-weight: bold;">0</span>
            </p>
            <p>
                <span id="player2-label" class="player-label"
                    style="font-weight: bold; font-size: 30px; color: #25fff4;"></span>
                <span id="player2-score" style="font-size: 40px; font-weight: bold;">0</span>
            </p>
        </div>
        <div class="reset-container">
            <button id="reset-button">Reset</button>
        </div>

        <div id="instructions" class="instructions" style="font-size: 20px;">
        </div>

        <div class="results">
            <p id="status-text">Waiting for players to choose...</p>
            <p id="result-text">Press your keys to play!</p>
            <p id="choices-display" style="font-size: 26px; font-weight: bold;"></p>
        </div>
    </div>

    <script>
        // Player names
        let player1Name = '';
        let player2Name = '';

        // DOM elements for start screen
        const startScreenEl = document.getElementById('start-screen');
        const gameScreenEl = document.getElementById('game-screen');
        const player1InputEl = document.getElementById('player1-input');
        const player2InputEl = document.getElementById('player2-input');
        const startButtonEl = document.getElementById('start-button');

        // DOM elements for game screen
        const player1LabelEl = document.getElementById('player1-label');
        const player2LabelEl = document.getElementById('player2-label');
        const player1ScoreEl = document.getElementById('player1-score');
        const player2ScoreEl = document.getElementById('player2-score');
        const instructionsEl = document.getElementById('instructions');
        const statusTextEl = document.getElementById('status-text');
        const resultTextEl = document.getElementById('result-text');
        const choicesDisplayEl = document.getElementById('choices-display');
        const resetButtonEl = document.getElementById('reset-button');

        // Initialize scores
        let player1Score = 0;
        let player2Score = 0;

        // Player choices - null means they haven't chosen yet this round
        let player1Choice = null;
        let player2Choice = null;

        // Game choices mapping
        const choices = ['rock', 'paper', 'scissors'];
        const player1Keys = { 'KeyA': 'rock', 'KeyS': 'paper', 'KeyD': 'scissors' };
        const player2Keys = { 'Numpad1': 'rock', 'Numpad2': 'paper', 'Numpad3': 'scissors' };

        // Event listener for start button
        startButtonEl.addEventListener('click', () => {
            player1Name = player1InputEl.value.trim() || "Player 1";
            player2Name = player2InputEl.value.trim() || "Player 2";

            // Update UI labels with player names
            player1LabelEl.textContent = `${player1Name}:`;
            player2LabelEl.textContent = `${player2Name}:`;
            instructionsEl.innerHTML = `<p><strong>${player1Name}:</strong> Use 'A' (Rock), 'S' (Paper), 'D' (Scissors)</p>
                                        <p><strong>${player2Name}:</strong> Use '1' (Rock), '2' (Paper), '3' (Scissors)</p>`;

            // Hide the start screen and show game screen
            startScreenEl.style.display = 'none';
            gameScreenEl.style.display = 'block';
        });

        // --- Functions ---

        // Function to determine the winner
        function determineWinner(p1, p2) {
            if (p1 === p2) {
                return 'tie';
            } else if (
                (p1 === 'rock' && p2 === 'scissors') ||
                (p1 === 'scissors' && p2 === 'paper') ||
                (p1 === 'paper' && p2 === 'rock')
            ) {
                return 'p1_wins';
            } else {
                return 'p2_wins';
            }
        }

        // Function to update scores and display
        function updateScore(result) {
            if (result === 'p1_wins') {
                player1Score++;
                player1ScoreEl.textContent = player1Score;
            } else if (result === 'p2_wins') {
                player2Score++;
                player2ScoreEl.textContent = player2Score;
            }
        }

        // Function to process the round result after both players choose
        function processRoundResult() {
            const result = determineWinner(player1Choice, player2Choice);
            updateScore(result);

            // Capitalize choices for display
            const capP1 = player1Choice.charAt(0).toUpperCase() + player1Choice.slice(1);
            const capP2 = player2Choice.charAt(0).toUpperCase() + player2Choice.slice(1);

            // Display choices made with player names
            choicesDisplayEl.textContent = `${player1Name}: ${capP1} | ${player2Name}: ${capP2}`;

            // Clear previous result classes
            resultTextEl.classList.remove('win', 'lose', 'tie');

            let resultMessage = '';
            if (result === 'p1_wins') {
                resultMessage = `${player1Name} Wins!`;
                resultTextEl.classList.add('win');
            } else if (result === 'p2_wins') {
                resultMessage = `${player2Name} Wins!`;
                resultTextEl.classList.add('lose');
            } else {
                resultMessage = "It's a Tie!";
                resultTextEl.classList.add('tie');
            }
            resultTextEl.textContent = resultMessage;

            // Reset for the next round
            player1Choice = null;
            player2Choice = null;
            statusTextEl.textContent = "Waiting for players to choose...";
        }

        // Function to update status display
        function updateStatus() {
            if (player1Choice && player2Choice) {
                statusTextEl.textContent = "Calculating result...";
            } else if (player1Choice) {
                statusTextEl.textContent = `${player1Name} has chosen! Waiting for ${player2Name}...`;
            } else if (player2Choice) {
                statusTextEl.textContent = `${player2Name} has chosen! Waiting for ${player1Name}...`;
            } else {
                statusTextEl.textContent = "Waiting for players to choose...";
            }
        }




        function resetScores() {
            player1Score = 0;
            player2Score = 0;
            player1ScoreEl.textContent = player1Score;
            player2ScoreEl.textContent = player2Score;
            statusTextEl.textContent = "Waiting for players to choose...";
            resultTextEl.textContent = "Press your keys to play!";
            choicesDisplayEl.textContent = "";
        }


        document.addEventListener('keydown', (event) => {

            if (gameScreenEl.style.display === 'none') return;

            const keyCode = event.code;
            if (event.altKey || event.ctrlKey || event.metaKey || event.shiftKey) {
                return;
            }
            let playerMadeChoice = false;


            if (keyCode in player1Keys && player1Choice === null) {
                player1Choice = player1Keys[keyCode];
                console.log(`${player1Name} chose: ${player1Choice}`);
                playerMadeChoice = true;
            }

            else if (keyCode in player2Keys && player2Choice === null) {
                player2Choice = player2Keys[keyCode];
                console.log(`${player2Name} chose: ${player2Choice}`);
                playerMadeChoice = true;
            }

            if (playerMadeChoice) {
                updateStatus();
            }

            if (player1Choice !== null && player2Choice !== null) {
                setTimeout(processRoundResult, 100);
            }
        });


        resetButtonEl.addEventListener('click', resetScores);


        statusTextEl.textContent = "Waiting for players to choose...";
        resultTextEl.textContent = "Press your keys to play!";
        choicesDisplayEl.textContent = "";
    </script>
</body>